<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>THE PIT â€“ Reading Mode</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:'Orbitron',sans-serif;
background:radial-gradient(circle,#bbf7d0 0%,#16a34a 60%,#052e16 100%);
color:#111827;
}

/* ================= CONTAINER ================= */

.readingContainer{
width:90%;
max-width:950px;
margin:40px auto;
background:white;
padding:40px;
border-radius:25px;
box-shadow:0 25px 50px rgba(0,0,0,0.6);
}

.readingTitle{
text-align:center;
font-size:30px;
color:#14532d;
margin-bottom:20px;
}

.textBox{
background:#f0fdf4;
padding:25px;
border-radius:18px;
line-height:1.7;
margin-bottom:25px;
border:2px solid #22c55e;
max-height:300px;
overflow-y:auto;
}

.startBtn{
display:block;
margin:20px auto;
padding:12px 25px;
border-radius:14px;
border:none;
background:#22c55e;
color:white;
font-weight:800;
cursor:pointer;
transition:.2s;
}

.startBtn:hover{
background:#16a34a;
transform:scale(1.05);
}

.streakText{
text-align:center;
font-weight:800;
margin:20px 0 10px 0;
font-size:18px;
color:#166534;
}

.streakContainer{
width:100%;
height:22px;
background:#e5e7eb;
border-radius:15px;
overflow:hidden;
margin-bottom:30px;
}

.streakFill{
height:100%;
width:0%;
background:linear-gradient(90deg,#22c55e,#4ade80);
transition:.3s;
}

.questionCard{
background:#f0fdf4;
padding:25px;
border-radius:18px;
border:2px solid #22c55e;
box-shadow:0 8px 20px rgba(34,197,94,0.3);
margin-bottom:20px;
}

.optionBtn{
display:block;
width:100%;
margin:10px 0;
padding:12px;
border-radius:14px;
background:white;
border:2px solid #22c55e;
cursor:pointer;
font-weight:600;
transition:.2s;
}

.optionBtn:hover{
background:#dcfce7;
}

.optionBtn.correct{
background:#22c55e;
color:white;
border:none;
}

.optionBtn.wrong{
background:#ef4444;
color:white;
border:none;
}

.streakSuccess{
box-shadow:0 0 30px #22c55e,0 0 60px #4ade80;
}

</style>
</head>
<body>

<div class="readingContainer">

<h2 class="readingTitle">READING STREAK MODE</h2>

<div class="textBox" id="textBox"></div>

<button class="startBtn" onclick="startChallenge()">START CHALLENGE</button>

<div id="gameArea" style="display:none;">

<div class="streakText">
STREAK: <span id="streakCount">0</span> / 20
</div>

<div class="streakContainer">
<div class="streakFill" id="streakFill"></div>
</div>

<div id="questionArea"></div>

</div>

</div>

<script src="reading-bank.js"></script>

<script>

/* ================= VARIABLES ================= */

let currentText;
let streak = 0;
let lastType = null;
let questionCounter = 0;

/* ================= LOAD RANDOM TEXT ================= */

function loadRandomText(){
currentText = TEXT_BANK[Math.floor(Math.random()*TEXT_BANK.length)];
document.getElementById("textBox").innerText = currentText.content;
}

/* ================= START ================= */

function startChallenge(){
document.querySelector(".startBtn").style.display="none";
document.getElementById("gameArea").style.display="block";
loadRandomText();
loadQuestion();
}

/* ================= GET QUESTION ================= */

function getRandomQuestion(){

let filtered = READING_BANK.filter(q =>
q.textId === currentText.id && q.type !== lastType
);

if(filtered.length === 0){
lastType = null;
filtered = READING_BANK.filter(q => q.textId === currentText.id);
}

let random = filtered[Math.floor(Math.random()*filtered.length)];
lastType = random.type;
return random;
}

/* ================= LOAD QUESTION ================= */

function loadQuestion(){

const area = document.getElementById("questionArea");
area.innerHTML="";

let q = getRandomQuestion();

let card = document.createElement("div");
card.className="questionCard";

let questionText = document.createElement("div");
questionText.innerText=q.question;
card.appendChild(questionText);

q.options.forEach(opt=>{
let btn = document.createElement("button");
btn.className
