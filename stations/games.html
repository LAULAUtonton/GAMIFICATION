<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>THE PIT â€“ Arcade Mode</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Orbitron',sans-serif;
  background:radial-gradient(circle,#0ea5e9 0%,#1e3a8a 60%,#020617 100%);
  color:white;
}

.container{
  width:95%;
  max-width:1200px;
  margin:30px auto;
  background:#0f172a;
  padding:30px;
  border-radius:25px;
  box-shadow:0 0 40px rgba(14,165,233,0.5);
}

.title{
  text-align:center;
  font-size:30px;
  margin-bottom:10px;
  color:#38bdf8;
}

.stats{
  margin:15px 0;
}

.bar{
  width:100%;
  height:18px;
  background:#1e293b;
  border-radius:12px;
  overflow:hidden;
}

.fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#22d3ee,#38bdf8);
  transition:.3s;
}

.arcadeGrid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

.card{
  background:#1e293b;
  border:2px solid #38bdf8;
  padding:25px;
  border-radius:18px;
  text-align:center;
  cursor:pointer;
  font-weight:900;
  transition:.2s;
}

.card:hover{
  background:#0ea5e9;
  transform:scale(1.05);
}

.gameArea{
  margin-top:25px;
  display:none;
  text-align:center;
}

canvas{
  background:#020617;
  border-radius:15px;
  box-shadow:0 0 25px #22d3ee;
}

button{
  padding:8px 14px;
  border-radius:10px;
  font-weight:900;
  cursor:pointer;
  margin:10px;
  border:none;
}

.overlay{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#0f172a;
  padding:30px;
  border:2px solid #38bdf8;
  border-radius:15px;
  display:none;
}
</style>
</head>

<body>

<div class="container">

<div class="title">ARCADE MODE</div>

<div class="stats">
Level: <span id="level">1</span> |
XP: <span id="xp">0</span>/100
<div class="bar"><div class="fill" id="xpBar"></div></div>
</div>

<div class="arcadeGrid" id="menu">
<div class="card" onclick="loadGame('invaders')">ðŸ‘¾ SPACE INVADERS</div>
<div class="card" onclick="loadGame('pacman')">ðŸŸ¡ PAC-MAN REVIEW</div>
</div>

<div class="gameArea" id="gameArea"></div>

</div>

<script>

/* ================= XP SYSTEM ================= */

let XP=0, LEVEL=1;

function addXP(amount){
  XP+=amount;
  if(XP>=100){
    XP=0;
    LEVEL++;
  }
  document.getElementById("xp").textContent=XP;
  document.getElementById("level").textContent=LEVEL;
  document.getElementById("xpBar").style.width=XP+"%";
}

/* ================= GLOBAL ================= */

let animation=null;
let keyHandler=null;

function stopGame(){
  if(animation) cancelAnimationFrame(animation);
  if(keyHandler) document.removeEventListener("keydown",keyHandler);
}

function loadGame(type){
  stopGame();
  document.getElementById("menu").style.display="none";
  const area=document.getElementById("gameArea");
  area.style.display="block";
  area.innerHTML='<canvas id="gameCanvas" width="900" height="550"></canvas>';
  if(type==="invaders") startInvaders();
  if(type==="pacman") startPacman();
}

/* ================= SPACE INVADERS ================= */

function startInvaders(){

const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");

let player={x:400};
let bullets=[];
let lives=3;
let speed=1+LEVEL*0.3;
let dir=1;

const words=["festival","recycle","charity","renewable"];
let target=words[Math.floor(Math.random()*words.length)];
let enemies=words.map((w,i)=>({word:w,x:150+i*150,y:80}));

function draw(){
ctx.clearRect(0,0,900,550);

ctx.fillStyle="white";
ctx.fillText("Target: "+target,30,30);
ctx.fillText("Lives: "+lives,750,30);

ctx.fillStyle="#22d3ee";
ctx.shadowBlur=20;
ctx.shadowColor="#22d3ee";
ctx.fillRect(player.x,500,80,20);

enemies.forEach(e=>{
ctx.fillStyle="white";
ctx.fillText(e.word,e.x,e.y);
e.x+=speed*dir;
});

if(enemies[0].x<50 || enemies[enemies.length-1].x>800){
dir*=-1;
enemies.forEach(e=>e.y+=30);
}

bullets.forEach(b=>{
b.y-=6;
ctx.fillStyle="yellow";
ctx.beginPath();
ctx.arc(b.x,b.y,6,0,2*Math.PI);
ctx.fill();

enemies.forEach(e=>{
if(Math.abs(b.x-e.x)<50 && Math.abs(b.y-e.y)<20){
if(e.word===target) addXP(10);
else lives--;
target=words[Math.floor(Math.random()*words.length)];
}
});
});

if(lives<=0){
ctx.fillStyle="red";
ctx.fillText("GAME OVER",350,280);
return;
}

animation=requestAnimationFrame(draw);
}

keyHandler=(e)=>{
if(e.key==="ArrowLeft") player.x-=20;
if(e.key==="ArrowRight") player.x+=20;
if(e.key===" ") bullets.push({x:player.x+40,y:500});
};

document.addEventListener("keydown",keyHandler);
draw();
}

/* ================= PACMAN ================= */

function startPacman(){

const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");

let pac={x:100,y:100};
let ghost={x:700,y:400};
let lives=3;
let grid=40;
let questionWords=["festival","charity","recycle"];

function drawMaze(){
ctx.strokeStyle="#38bdf8";
for(let i=0;i<900;i+=grid){
for(let j=0;j<550;j+=grid){
ctx.strokeRect(i,j,grid,grid);
}
}
}

function draw(){
ctx.clearRect(0,0,900,550);

drawMaze();

ctx.fillStyle="yellow";
ctx.beginPath();
ctx.arc(pac.x,pac.y,15,0,2*Math.PI);
ctx.fill();

ctx.fillStyle="red";
ctx.beginPath();
ctx.arc(ghost.x,ghost.y,15,0,2*Math.PI);
ctx.fill();

ctx.fillStyle="white";
ctx.fillText("Lives: "+lives,750,30);

if(Math.abs(pac.x-ghost.x)<20 && Math.abs(pac.y-ghost.y)<20){
lives--;
pac.x=100; pac.y=100;
}

animation=requestAnimationFrame(draw);
}

keyHandler=(e)=>{
if(e.key==="ArrowLeft") pac.x-=grid;
if(e.key==="ArrowRight") pac.x+=grid;
if(e.key==="ArrowUp") pac.y-=grid;
if(e.key==="ArrowDown") pac.y+=grid;
};

document.addEventListener("keydown",keyHandler);
draw();
}

</script>

</body>
</html>
